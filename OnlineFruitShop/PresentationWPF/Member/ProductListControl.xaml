<UserControl x:Class="PresentationWPF.Member.ProductListControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:local="clr-namespace:PresentationWPF.Member"
             Background="White">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Tìm kiếm -->
        <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
            <Grid Width="300" Height="30" Margin="0,0,10,0">
                <TextBox x:Name="txtSearch"
                         VerticalContentAlignment="Center"
                         TextChanged="txtSearch_TextChanged"/>
                <TextBlock x:Name="txtPlaceholder"
                           Text="Nhập tên sản phẩm..."
                           Foreground="Gray"
                           Margin="5,0,0,0"
                           VerticalAlignment="Center"
                           IsHitTestVisible="False"/>
            </Grid>

            <Button Content="🔍 Tìm"
                    Width="80" Height="30"
                    Click="SearchButton_Click"/>
        </StackPanel>

        <!-- Danh sách sản phẩm -->
        <ScrollViewer Grid.Row="1">
            <ItemsControl x:Name="itemsProduct">
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <WrapPanel/>
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>

                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Border BorderBrush="#ccc" BorderThickness="1" CornerRadius="5"
                                Margin="10" Padding="10" Width="230" Background="White">
                            <StackPanel>
                                <Image Source="{Binding ImageUrl}" Height="100" Stretch="UniformToFill" Margin="0,0,0,5"/>

                                <TextBlock Text="{Binding ProductName}" FontWeight="Bold" FontSize="14" Margin="0,2"/>
                                <TextBlock Text="{Binding CategoryName}" FontStyle="Italic" FontSize="12" Foreground="Gray"/>
                                <TextBlock Text="{Binding Description}" FontSize="12" TextWrapping="Wrap" Foreground="#444" Margin="0,4"/>
                                <TextBlock Text="{Binding Price, StringFormat='Giá: {0:N0}₫'}" Foreground="Green" FontWeight="SemiBold"/>
                                <TextBlock Text="{Binding Quantity, StringFormat='Còn: {0}'}" Foreground="DarkSlateGray" FontSize="12"/>

                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,8,0,0">
                                    <Button Content="🛒 Thêm vào giỏ"
                                            Background="#27ae60" Foreground="White"
                                            Margin="2" Padding="5,2"
                                            Click="AddToCart_Click"/>
                                    <Button Content="🔍 Xem"
                                            Background="#3498db" Foreground="White"
                                            Margin="2" Padding="5,2"
                                            Click="Detail_Click"/>
                                </StackPanel>
                            </StackPanel>
                        </Border>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </ScrollViewer>
    </Grid>
</UserControl>
